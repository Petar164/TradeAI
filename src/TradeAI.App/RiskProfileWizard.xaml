<Window x:Class="TradeAI.App.RiskProfileWizard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Risk Profile Setup"
        Width="480" Height="420"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ShowInTaskbar="False"
        Background="#0D1117">

    <Border BorderBrush="#2C3246" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="56"/>   <!-- Header -->
                <RowDefinition Height="Auto"/> <!-- Step dots -->
                <RowDefinition Height="*"/>    <!-- Step content -->
                <RowDefinition Height="60"/>   <!-- Footer / buttons -->
            </Grid.RowDefinitions>

            <!-- ── Header ─────────────────────────────────────────────────── -->
            <Border Grid.Row="0"
                    Background="#141824"
                    BorderBrush="#2C3246"
                    BorderThickness="0,0,0,1">
                <Grid Margin="20,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <Border Width="7" Height="7" CornerRadius="3.5"
                                Background="#2962FF" Margin="0,0,10,0"/>
                        <TextBlock Text="TRADE" FontSize="14" FontWeight="Bold"
                                   Foreground="White" VerticalAlignment="Center"/>
                        <TextBlock Text="AI" FontSize="14" FontWeight="Bold"
                                   Foreground="#2962FF" VerticalAlignment="Center"/>
                        <TextBlock Text=" — Risk Profile Setup"
                                   FontSize="13" Foreground="#64748B"
                                   VerticalAlignment="Center" Margin="4,0,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- ── Step indicator dots ────────────────────────────────────── -->
            <StackPanel Grid.Row="1"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Margin="0,16,0,0">
                <Ellipse x:Name="Dot1" Width="8" Height="8" Margin="4,0"
                         Fill="#2962FF"/>
                <Ellipse x:Name="Dot2" Width="8" Height="8" Margin="4,0"
                         Fill="#2C3246"/>
                <Ellipse x:Name="Dot3" Width="8" Height="8" Margin="4,0"
                         Fill="#2C3246"/>
                <Ellipse x:Name="Dot4" Width="8" Height="8" Margin="4,0"
                         Fill="#2C3246"/>
            </StackPanel>

            <!-- ── Step content area ──────────────────────────────────────── -->
            <ScrollViewer Grid.Row="2"
                          VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Disabled">
                <Grid Margin="28,20,28,0">

                    <!-- STEP 1 — Risk % per trade -->
                    <StackPanel x:Name="Step1Panel">
                        <TextBlock Text="Step 1 of 4"
                                   FontSize="10" FontWeight="SemiBold"
                                   Foreground="#64748B" Margin="0,0,0,6"/>
                        <TextBlock Text="How much are you comfortable risking per trade?"
                                   FontSize="15" FontWeight="SemiBold"
                                   Foreground="White" TextWrapping="Wrap"
                                   Margin="0,0,0,4"/>
                        <TextBlock Text="This determines position size. Most traders use 1% or less."
                                   FontSize="11" Foreground="#64748B"
                                   TextWrapping="Wrap" Margin="0,0,0,20"/>

                        <RadioButton x:Name="Risk05" GroupName="Risk" IsChecked="False"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="0.5%  — Conservative" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Minimal exposure; suited to volatile markets"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                        <RadioButton x:Name="Risk1" GroupName="Risk" IsChecked="True"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="1%  — Standard  (recommended)" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Industry default; balances reward and survival"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                        <RadioButton x:Name="Risk2" GroupName="Risk" IsChecked="False"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="2%  — Aggressive" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Higher compounding; larger drawdowns possible"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                    </StackPanel>

                    <!-- STEP 2 — Stop style -->
                    <StackPanel x:Name="Step2Panel" Visibility="Collapsed">
                        <TextBlock Text="Step 2 of 4"
                                   FontSize="10" FontWeight="SemiBold"
                                   Foreground="#64748B" Margin="0,0,0,6"/>
                        <TextBlock Text="How tight should stop-losses be placed?"
                                   FontSize="15" FontWeight="SemiBold"
                                   Foreground="White" TextWrapping="Wrap"
                                   Margin="0,0,0,4"/>
                        <TextBlock Text="Stops are placed relative to the ATR of the trigger candle."
                                   FontSize="11" Foreground="#64748B"
                                   TextWrapping="Wrap" Margin="0,0,0,20"/>

                        <RadioButton x:Name="StopTight" GroupName="Stop" IsChecked="False"
                                     Foreground="White" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="Tight  — 0.5× ATR" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Smaller loss if stopped; but higher chance of noise hits"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                        <RadioButton x:Name="StopNormal" GroupName="Stop" IsChecked="True"
                                     Foreground="White" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="Normal  — 1.0× ATR  (recommended)" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Balanced placement; room for normal price swings"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                        <RadioButton x:Name="StopWide" GroupName="Stop" IsChecked="False"
                                     Foreground="White" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="Wide  — 1.5× ATR" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Fewer premature stops; larger loss per trade if hit"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                    </StackPanel>

                    <!-- STEP 3 — Max concurrent overlays -->
                    <StackPanel x:Name="Step3Panel" Visibility="Collapsed">
                        <TextBlock Text="Step 3 of 4"
                                   FontSize="10" FontWeight="SemiBold"
                                   Foreground="#64748B" Margin="0,0,0,6"/>
                        <TextBlock Text="Max simultaneous signal overlays on the chart?"
                                   FontSize="15" FontWeight="SemiBold"
                                   Foreground="White" TextWrapping="Wrap"
                                   Margin="0,0,0,4"/>
                        <TextBlock Text="Limits how many live setups appear at once so the chart stays readable."
                                   FontSize="11" Foreground="#64748B"
                                   TextWrapping="Wrap" Margin="0,0,0,20"/>

                        <RadioButton x:Name="Conc1" GroupName="Conc" IsChecked="False"
                                     Content="1  — Focus on one setup at a time"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10"/>
                        <RadioButton x:Name="Conc2" GroupName="Conc" IsChecked="False"
                                     Content="2  — Two concurrent setups"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10"/>
                        <RadioButton x:Name="Conc3" GroupName="Conc" IsChecked="True"
                                     Content="3  — Three setups  (recommended)"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10"/>
                        <RadioButton x:Name="Conc5" GroupName="Conc" IsChecked="False"
                                     Content="5  — Up to five overlapping setups"
                                     Foreground="White" FontSize="13" Margin="0,0,0,10"/>
                    </StackPanel>

                    <!-- STEP 4 — Drawdown tolerance -->
                    <StackPanel x:Name="Step4Panel" Visibility="Collapsed">
                        <TextBlock Text="Step 4 of 4"
                                   FontSize="10" FontWeight="SemiBold"
                                   Foreground="#64748B" Margin="0,0,0,6"/>
                        <TextBlock Text="How much drawdown before you want fewer signals?"
                                   FontSize="15" FontWeight="SemiBold"
                                   Foreground="White" TextWrapping="Wrap"
                                   Margin="0,0,0,4"/>
                        <TextBlock Text="TradeAI will raise the confidence threshold to filter weaker signals when this limit is approached."
                                   FontSize="11" Foreground="#64748B"
                                   TextWrapping="Wrap" Margin="0,0,0,20"/>

                        <RadioButton x:Name="DdLow" GroupName="Dd" IsChecked="False"
                                     Foreground="White" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="Low  — &lt;5% drawdown" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Defensive; only high-confidence setups pass the filter"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                        <RadioButton x:Name="DdMedium" GroupName="Dd" IsChecked="True"
                                     Foreground="White" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="Medium  — 5–15% drawdown  (recommended)" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Balanced filter; a reasonable buffer before tightening"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                        <RadioButton x:Name="DdHigh" GroupName="Dd" IsChecked="False"
                                     Foreground="White" Margin="0,0,0,10">
                            <StackPanel>
                                <TextBlock Text="High  — &gt;15% drawdown" FontSize="13"
                                           Foreground="White"/>
                                <TextBlock Text="Full signal flow even during losing streaks"
                                           FontSize="10" Foreground="#64748B"/>
                            </StackPanel>
                        </RadioButton>
                    </StackPanel>

                </Grid>
            </ScrollViewer>

            <!-- ── Footer / nav buttons ───────────────────────────────────── -->
            <Border Grid.Row="3"
                    Background="#141824"
                    BorderBrush="#2C3246"
                    BorderThickness="0,1,0,0">
                <Grid Margin="20,0">
                    <Button x:Name="BtnBack"
                            Content="← Back"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Padding="16,8"
                            FontSize="13"
                            Background="Transparent"
                            Foreground="#64748B"
                            BorderThickness="1"
                            BorderBrush="#2C3246"
                            Cursor="Hand"
                            Visibility="Collapsed"
                            Click="BtnBack_Click"/>

                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center">
                        <Button x:Name="BtnSkip"
                                Content="Skip"
                                Padding="16,8"
                                FontSize="12"
                                Background="Transparent"
                                Foreground="#64748B"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,0,8,0"
                                Click="BtnSkip_Click"/>
                        <Button x:Name="BtnNext"
                                Content="Next →"
                                Padding="20,8"
                                FontSize="13" FontWeight="SemiBold"
                                Background="#2962FF"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"
                                Click="BtnNext_Click">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border x:Name="Bd"
                                            Background="{TemplateBinding Background}"
                                            CornerRadius="4"
                                            Padding="{TemplateBinding Padding}">
                                        <ContentPresenter HorizontalAlignment="Center"
                                                          VerticalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="Bd" Property="Background" Value="#1E4FCC"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

        </Grid>
    </Border>
</Window>
